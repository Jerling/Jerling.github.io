<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>树结构及其应用场景总结 - 北极狼徒</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="description" content="Table of Contens 数据结构 &ndash; 树 二叉树 二叉查找树 平衡二叉树 B树 B&#43;树 B*树 字典树/Trie树 基数树/radix树 树的应用 参考 数据结构 &ndash; 树 树是学习数据结构必">
  
  <meta itemprop="name" content="树结构及其应用场景总结 - 北极狼徒">
  <meta itemprop="description" content="Table of Contens 数据结构 &ndash; 树 二叉树 二叉查找树 平衡二叉树 B树 B&#43;树 B*树 字典树/Trie树 基数树/radix树 树的应用 参考 数据结构 &ndash; 树 树是学习数据结构必">
  <meta itemprop="image" content="/img/author.jpg">
  
  
  <meta name="twitter:description" content="随便写写">
  
  <link rel="shortcut icon" href="/img/favicon.ico"/>
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png" />
  <link rel="stylesheet" href="/highlight/styles/github.css">
  <script src="/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  <link rel="stylesheet" href="/font/hack/css/hack.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <header>
    <div>
  
  <div id="imglogo">
    <a href="/"><img src="/img/logo.svg" alt="北极狼徒" title="北极狼徒"/></a>
  </div>
  
  <div id="textlogo">
    <h1 class="site-name"><a href="/" title="北极狼徒">北极狼徒</a></h1>
    <h2 class="blog-motto">个人博客</h2>
  </div>
  <div class="navbar"><a class="navbutton navmobile" href="#" title="menu"></a></div>
  <nav class="animated">
    <ul>
      
      <li><a href="/post">首页</a></li>
      
      <li><a href="/about">关于</a></li>
      
      <li><a href="/bookmark">收藏</a></li>
      
      <li>
        <form class="search" method="get" action="https://www.google.com/search">
          <div>
            <input type="text" id="search" name="q" placeholder="搜索">
          </div>
        </form>
      </li>
    </ul>
  </nav>
</div>

  </header>
  <div id="container">
    <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody">
    <header class="article-info clearfix">
  <h1 itemprop="name">
      <a href="/post/data_struct_trees_conclusion/" title="树结构及其应用场景总结" itemprop="url">树结构及其应用场景总结</a>
  </h1>
  <p class="article-author">By
    
      <a href="https://github.com/Jerling" title="[Jerling]">[Jerling]</a>
    
  </p>
  <p class="article-time">
    <time datetime="2019-01-05 00:00:00 &#43;0800 CST" itemprop="datePublished">2019年01月05日</time>
  </p>
</header>

	<div class="article-content">
    
    <h2 id="table-of-contens">Table of Contens</h2>
<ul>
<li><a href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%91">数据结构 &ndash;  树</a>
<ul>
<li><a href="#%E4%BA%8C%E5%8F%89%E6%A0%91">二叉树</a></li>
<li><a href="#%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91">二叉查找树</a></li>
<li><a href="#%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91">平衡二叉树</a></li>
<li><a href="#b%E6%A0%91">B树</a></li>
<li><a href="#b-%E6%A0%91">B+树</a></li>
<li><a href="#b-%E6%A0%91">B*树</a></li>
<li><a href="#%E5%AD%97%E5%85%B8%E6%A0%91-trie%E6%A0%91">字典树/Trie树</a></li>
<li><a href="#%E5%9F%BA%E6%95%B0%E6%A0%91-radix%E6%A0%91">基数树/radix树</a></li>
</ul>
</li>
<li><a href="#%E6%A0%91%E7%9A%84%E5%BA%94%E7%94%A8">树的应用</a></li>
<li><a href="#%E5%8F%82%E8%80%83">参考</a></li>
</ul>
<h2 id="数据结构-树">数据结构 &ndash;  树</h2>
<p>树是学习数据结构必学的一种结构之一，其重要性不言而喻。本文对自己已知的树结构总结，如若有错，请在评论去留言，鄙人及时修改，以免误导别人。本文涉及的树结构包括：二叉树、二叉搜索树、基数树等。</p>
<h3 id="二叉树">二叉树</h3>
<p>二叉树是树家族结构中最为基础的一种数据结构。</p>
<h4 id="定义">定义</h4>
<ul>
<li>每个结点最多两个子结点，即度 &lt;= 2</li>
<li>子结点区分为左右子结点，顺序不能反过来，否则为不同的二叉树</li>
<li>第 i 层最多有 2<!-- raw HTML omitted -->i-1<!-- raw HTML omitted --> 个结点</li>
<li>深度为 k 的二叉树最多有 2<!-- raw HTML omitted -->k<!-- raw HTML omitted --> - 1个结点，即满二叉树</li>
<li>对任一二叉树，叶结点数n<!-- raw HTML omitted -->0<!-- raw HTML omitted --> 和 度为2的结点数 n<!-- raw HTML omitted -->2<!-- raw HTML omitted --> 的关系式为：n<!-- raw HTML omitted -->0<!-- raw HTML omitted --> = n<!-- raw HTML omitted -->2<!-- raw HTML omitted --> + 1</li>
</ul>
<h4 id="示例">示例</h4>
<figure>
    <img src="https://ss3.bdstatic.com/70cFv8Sh%5FQ1YnxGkpoWK1HF6hhy/it/u=2754362133,1759454932&amp;fm=26&amp;gp=0.jpg"/> 
</figure>

<h4 id="特殊二叉树">特殊二叉树</h4>
<p>在二叉树中存在满二叉树和完全二叉树两种特殊树结构。</p>
<ul>
<li>满二叉树</li>
</ul>
<pre><code>-    定义

    除叶结点外，其它结点都有两个结点，即度为2。此时的二叉树结点数达到最大值：2&lt;sup&gt;h&lt;/sup&gt; - 1。(h 为深度)

-    性质

    -   叶结点数： 2&lt;sup&gt;h&lt;/sup&gt;
    -   第 k 层的结点数是：2&lt;sup&gt;k-1&lt;/sup&gt;
    -   总结点数是：2&lt;sup&gt;h&lt;/sup&gt; - 1，且一定是奇数(废话)
</code></pre>
<ul>
<li>完全二叉树</li>
</ul>
<pre><code>若设二叉树的深度为h，除第 h 层外，其它各层 (1～(h-1)层) 的结点数都达到最大个数，第h层所有的结点都连续集中在最左边，这就是完全二叉树。

&gt; 注：完全二叉树是效率很高的数据结构，堆是一种完全二叉树或者近似完全二叉树，所以效率极高，像十分常用的排序算法、Dijkstra算法、Prim算法等都要用堆才能优化，
&gt; 二叉排序树的效率也要借助平衡性来提高，而平衡性基于完全二叉树。
</code></pre>
<ul>
<li>示例</li>
</ul>
<pre><code><figure>
    <img src="https://ss1.bdstatic.com/70cFvXSh%5FQ1YnxGkpoWK1HF6hhy/it/u=4240640839,2482728634&amp;fm=26&amp;gp=0.jpg"/> 
</figure>

</code></pre>
<h4 id="性质">性质</h4>
<ul>
<li>在非空二叉树中，第i层的结点总数不超过2<!-- raw HTML omitted -->i<!-- raw HTML omitted --> - 1, i&gt;=1</li>
<li>深度为h的二叉树最多有2<!-- raw HTML omitted -->h<!-- raw HTML omitted --> - 1个结点(h&gt;=1)，最少有h个结点</li>
<li>对于任意一棵二叉树，如果其叶结点数为N<!-- raw HTML omitted -->0<!-- raw HTML omitted -->，而度数为2的结点总数为N<!-- raw HTML omitted -->2<!-- raw HTML omitted -->，则N<!-- raw HTML omitted -->0<!-- raw HTML omitted -->=N<!-- raw HTML omitted -->2<!-- raw HTML omitted -->+1</li>
<li>具有n个结点的完全二叉树的深度为log<!-- raw HTML omitted -->2<!-- raw HTML omitted -->(n+1)</li>
<li>有N个结点的完全二叉树各结点如果用顺序方式存储，则结点之间有如下关系：
<ul>
<li>若I为结点编号则 如果I&gt;1，则其父结点的编号为I/2</li>
<li>如果2I&lt;=N，则其左儿子（即左子树的根结点）的编号为2I；若2I&gt;N，则无左儿子</li>
<li>如果2I+1&lt;=N，则其右儿子的结点编号为2I+1；若2I+1&gt;N，则无右儿子</li>
</ul>
</li>
<li>给定N个节点，能构成h(N)种不同的二叉树，其中h(N)为卡特兰数的第N项，h(n)=C(2*n, n)/(n+1)</li>
<li>设有i个枝点，I为所有枝点的道路长度总和，J为叶的道路长度总和J=I+2i</li>
</ul>
<h3 id="二叉查找树">二叉查找树</h3>
<h4 id="定义">定义</h4>
<p>又称为是二叉排序树（Binary Sort Tree）或二叉搜索树。二叉排序树或者是一棵空树，或者是具有下列性质的二叉树：</p>
<ol>
<li>若左子树不空，则左子树上所有结点的值均小于它的根结点的值</li>
<li>若右子树不空，则右子树上所有结点的值均大于或等于它的根结点的值</li>
<li>左、右子树也分别为二叉排序树</li>
<li>没有键值相等的节点</li>
</ol>
<h4 id="性质">性质</h4>
<p>对二叉查找树进行中序遍历，即可得到有序的数列。</p>
<h4 id="时间复杂度">时间复杂度</h4>
<pre><code>和二分查找一样，插入和查找的时间复杂度均为O(logN)，但是在最坏的情况下仍然会有O(n)的时间复杂度。
</code></pre>
<p>原因在于插入和删除元素的时候，树没有保持平衡(即只有左子树或右子树的情况)。追求的是在最坏的情况下仍然有较好的时间复杂度，
这就是平衡查找树设计的初衷。</p>
<h4 id="效率">效率</h4>
<p>二叉查找树的高度决定了二叉查找树的查找效率。</p>
<h4 id="插入过程">插入过程</h4>
<ol>
<li>若当前的二叉查找树为空，则插入的元素为根节点</li>
<li>若插入的元素值小于根节点值，则将元素插入到左子树中</li>
<li>若插入的元素值不小于根节点值，则将元素插入到右子树中</li>
</ol>
<h4 id="删除">删除</h4>
<ol>
<li>p为叶子节点，直接删除该节点，再修改其父节点的指针（注意分是根节点和不是根节点），如图a</li>
<li>p为单支节点（即只有左子树或右子树）。让p的子树与p的父亲节点相连，删除p即可（注意分是根节点和不是根节点），如图b</li>
<li>p的左子树和右子树均不空。找到p的后继y，因为y一定没有左子树，所以可以删除y，并让y的父亲节点成为y的右子树的父亲节点，</li>
</ol>
<p>并用y的值代替p的值；或者方法二是找到p的前驱x，x一定没有右子树，所以可以删除x，并让x的父亲节点成为y的左子树的父亲节点。如图c。</p>
<figure>
    <img src="https://ss0.bdstatic.com/70cFvHSh%5FQ1YnxGkpoWK1HF6hhy/it/u=4237767673,294237771&amp;fm=26&amp;gp=0.jpg"/> 
</figure>

<h3 id="平衡二叉树">平衡二叉树</h3>
<p>　　对于一般的二叉搜索树（Binary Search Tree），其期望高度（即为一棵平衡树时）为log<!-- raw HTML omitted -->2<!-- raw HTML omitted -->N，其各操作的时间复杂度O(log<!-- raw HTML omitted -->2<!-- raw HTML omitted -->N)同时也由此而决定。
但是，在某些极端的情况下（如在插入的序列是有序的时），二叉搜索树将退化成近似链或链，此时，其操作的时间复杂度将退化成线性的，即O(n)。
可以通过随机化建立二叉搜索树来尽量的避免这种情况，但是在进行了多次的操作之后，由于在删除时，总是选择将待删除节点的后继代替它本身，
这样就会造成总是右边的节点数目减少，以至于树向左偏沉。这同时也会造成树的平衡性受到破坏，提高它的操作的时间复杂度。于是就有了下边介绍的平衡二叉树。</p>
<h4 id="定义">定义</h4>
<pre><code>平衡二叉树（Balanced Binary Tree）又被称为AVL树（有别于AVL算法），且具有以下性质：它是一棵空树或它的左右两个子树的高度差的绝对值不超过1，
</code></pre>
<p>并且左右两个子树都是一棵平衡二叉树。平衡二叉树的常用算法有红黑树、AVL树等。在平衡二叉搜索树中，可以看到，其高度一般都良好地维持在O(log<!-- raw HTML omitted -->2<!-- raw HTML omitted -->N)，
大大降低了操作的时间复杂度。</p>
<p>最小二叉平衡树的节点的公式如下：</p>
<p>F(n)=F(n-1)+F(n-2)+1</p>
<p>这个类似于一个递归的数列，可以参考Fibonacci数列，1是根节点，F(n-1)是左子树的节点数量，F(n-2)是右子树的节点数量。</p>
<h4 id="平衡二叉树之avl树">平衡二叉树之AVL树</h4>
<p>　　有关AVL树的具体实现，可以参考C小加的博客<a href="http://www.cppblog.com/cxiaojia/archive/2012/08/20/187776.html">《一步一步写平衡二叉树（AVL）》</a>。</p>
<ul>
<li>
<p>定义</p>
<pre><code>AVL树是最先发明的自平衡二叉查找树。AVL树得名于它的发明者 G.M. Adelson-Velsky 和 E.M. Landis，
</code></pre>
</li>
</ul>
<pre><code>他们在 1962 年的论文 &quot;An algorithm for the organization of information&quot; 中发表了它。在AVL中任何节点的两个儿子子树的高度之差不超过1，
所以它也被称为高度平衡树，n个结点的AVL树最大深度约1.44log&lt;sub&gt;2&lt;/sub&gt;N。查找、插入和删除在平均和最坏情况下都是O(logN)。
增加和删除可能需要通过一次或多次树旋转来重新平衡这个树。这个方案很好的解决了二叉查找树退化成链表的问题，
把插入，查找，删除的时间复杂度最好情况和最坏情况都维持在O(logN)。但是频繁旋转会使插入和删除牺牲掉O(logN)左右的时间，
不过相对二叉查找树来说，时间上稳定了很多。
</code></pre>
<ul>
<li>AVL树的自平衡操作 &ndash; 旋转</li>
</ul>
<pre><code>　　AVL树最关键的也是最难的一步操作就是旋转。旋转主要是为了实现AVL树在实施了插入和删除操作以后，树重新回到平衡的方法。

　　对于一个平衡的节点，由于任意节点最多有两个儿子，因此高度不平衡时，此节点的两颗子树的高度差2。容易看出，这种不平衡出现在下面四种情况：

<figure>
    <img src="https://ss0.bdstatic.com/70cFuHSh%5FQ1YnxGkpoWK1HF6hhy/it/u=1671534566,2189709284&amp;fm=26&amp;gp=0.jpg"/> 
</figure>


1.  6节点的左子树3节点高度比右子树7节点大2，左子树3节点的左子树1节点高度大于右子树4节点，这种情况成为左左。
2.  6节点的左子树2节点高度比右子树7节点大2，左子树2节点的左子树1节点高度小于右子树4节点，这种情况成为左右。
3.  2节点的左子树1节点高度比右子树5节点小2，右子树5节点的左子树3节点高度大于右子树6节点，这种情况成为右左。
4.  2节点的左子树1节点高度比右子树4节点小2，右子树4节点的左子树3节点高度小于右子树6节点，这种情况成为右右。

从图2中可以可以看出，1和4两种情况是对称的，这两种情况的旋转算法是一致的，只需要经过一次旋转就可以达到目标，
称之为单旋转。2和3两种情况也是对称的，这两种情况的旋转算法也是一致的，需要进行两次旋转，称之为双旋转。

-    单旋转

          单旋转是针对于左左和右右这两种情况的解决方案，这两种情况是对称的，只要解决了左左这种情况，右右就很好办了。
    图3是左左情况的解决方案，节点k2不满足平衡特性，因为它的左子树k1比右子树Z深2层，而且k1子树中，更深的一层的是k1的左子树X子树，所以属于左左情况。

    <figure>
    <img src="https://ss0.bdstatic.com/70cFvHSh%5FQ1YnxGkpoWK1HF6hhy/it/u=1936741823,4072253693&amp;fm=26&amp;gp=0.jpg"/> 
</figure>


    为使树恢复平衡，把k2变成这棵树的根节点，因为k2大于k1，把k2置于k1的右子树上，而原本在k1右子树的Y大于k1，小于k2，就把Y置于k2的左子树上，
    这样既满足了二叉查找树的性质，又满足了平衡二叉树的性质。

    　　这样的操作只需要一部分指针改变，结果得到另外一颗二叉查找树，它是一棵AVL树，因为X向上一移动了一层，Y还停留在原来的层面上，
    Z向下移动了一层。整棵树的新高度和之前没有在左子树上插入的高度相同，插入操作使得X高度长高了。因此，由于这颗子树高度没有变化，所以通往根节点的路径就不需要继续旋转了

-    双旋转

    　　对于左右和右左这两种情况，单旋转不能使它达到一个平衡状态，要经过两次旋转。双旋转是针对于这两种情况的解决方案，同样的，这样两种情况也是对称的，
    只要解决了左右这种情况，右左就很好办了。图4是左右情况的解决方案，节点k3不满足平衡特性，因为它的左子树k1比右子树Z深2层，而且k1子树中，更深的一层的是k1的右子树k2子树，所以属于左右情况。

    <figure>
    <img src="https://ss0.bdstatic.com/70cFuHSh%5FQ1YnxGkpoWK1HF6hhy/it/u=2923447848,2374997480&amp;fm=26&amp;gp=0.jpg"/> 
</figure>


    为使树恢复平衡，需要进行两步，第一步，把k1作为根，进行一次右右旋转，旋转之后就变成了左左情况，所以第二步再进行一次左左旋转，最后得到了一棵以k2为根的平衡二叉树。
</code></pre>
<h4 id="平衡二叉树之红黑树">平衡二叉树之红黑树</h4>
<ul>
<li>
<p>定义</p>
<pre><code>红黑树是一种自平衡二叉查找树，是在计算机科学中用到的一种数据结构，典型的用途是实现关联数组。
</code></pre>
</li>
</ul>
<pre><code>它是在1972年由鲁道夫·贝尔发明的，称之为&quot;对称二叉B树&quot;，它现代的名字是在 Leo J. Guibas 和 Robert Sedgewick 于1978年写的一篇论文中获得的。
它是复杂的，但它的操作有着良好的最坏情况运行时间，并且在实践中是高效的: 它可以在O(logN)时间内做查找，插入和删除，这里的N是树中元素的数目。

 　　红黑树和AVL树一样都对插入时间、删除时间和查找时间提供了最好可能的最坏情况担保。这不只是使它们在时间敏感的应用(如实时应用（real time application))中有价值，
而且使它们有在提供最坏情况担保的其他数据结构中作为建造板块的价值；例如，在计算几何中使用的很多数据结构都可以基于红黑树。此外，红黑树还是2-3-4树的一种等同，
它们的思想是一样的，只不过红黑树是2-3-4树用二叉树的形式表示的。
</code></pre>
<ul>
<li>性质</li>
</ul>
<pre><code>　　红黑树是每个节点都带有颜色属性的二叉查找树，颜色为红色或黑色。在二叉查找树强制的一般要求以外，对于任何有效的红黑树增加了如下的额外要求:

-   性质1. 节点是红色或黑色。
-   性质2. 根是黑色。
-   性质3. 所有叶子都是黑色（叶子是NIL节点）。
-   性质4. 每个红色节点必须有两个黑色的子节点。(从每个叶子到根的所有路径上不能有两个连续的红色节点。)
-   性质5. 从任一节点到其每个叶子的所有简单路径都包含相同数目的黑色节点。
</code></pre>
<ul>
<li>图例</li>
</ul>
<pre><code><figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/Red-black%5Ftree%5Fexample.svg/450px-Red-black%5Ftree%5Fexample.svg.png"/> 
</figure>


这些约束确保了红黑树的关键特性: 从根到叶子的最长的可能路径不多于最短的可能路径的两倍长。结果是这个树大致上是平衡的。
因为操作比如插入、删除和查找某个值的最坏情况时间都要求与树的高度成比例，这个在高度上的理论上限允许红黑树在最坏情况下都是高效的，而不同于普通的二叉查找树。

　　要知道为什么这些性质确保了这个结果，注意到性质4导致了路径不能有两个毗连的红色节点就足够了。最短的可能路径都是黑色节点，'
最长的可能路径有交替的红色和黑色节点。因为根据性质5所有最长的路径都有相同数目的黑色节点，这就表明了没有路径能多于任何其他路径的两倍长。
</code></pre>
<ul>
<li>
<p>红黑树的自平衡操作</p>
<pre><code>因为每一个红黑树也是一个特化的二叉查找树，因此红黑树上的只读操作与普通二叉查找树上的只读操作相同。
</code></pre>
</li>
</ul>
<pre><code>然而，在红黑树上进行插入操作和删除操作会导致不再符合红黑树的性质。恢复红黑树的性质需要少量(O(logN))的颜色
变更(实际是非常快速的)和不超过三次树旋转(对于插入操作是两次)。虽然插入和删除很复杂，但操作时间仍可以保持为O(logN)。

　　首先以二叉查找树的方法增加节点并标记它为红色。如果设为黑色，就会导致根到叶子的路径上有一条路上，多一个额外的黑节点，
这个是很难调整的（违背性质5）。但是设为红色节点后，可能会导致出现两个连续红色节点的冲突，那么可以通过颜色调换（color flips）和树旋转来调整。
下面要进行什么操作取决于其他临近节点的颜色。同人类的家族树中一样，使用术语叔父节点来指一个节点的父节点的兄弟节点。注意:

-   性质1和性质3总是保持着。
-   性质4只在增加红色节点、重绘黑色节点为红色，或做旋转时受到威胁。
-   性质5只在增加黑色节点、重绘红色节点为黑色，或做旋转时受到威胁。
</code></pre>
<ul>
<li>插入操作</li>
</ul>
<pre><code>假设，将要插入的节点标为N，N的父节点标为P，N的祖父节点标为G，N的叔父节点标为U。

-   情形1: 该树为空树，直接插入根结点的位置，违反性质1，把节点颜色有红改为黑即可。
-   情形2: 插入节点N的父节点P为黑色，不违反任何性质，无需做任何修改。在这种情形下，树仍是有效的。性质5也未受到威胁，

尽管新节点N有两个黑色叶子子节点；但由于新节点N是红色，通过它的每个子节点的路径就都有同通过它所取代的黑色的叶子的路径同样数目的黑色节点，所以依然满足这个性质。

&gt; 注： 情形1很简单，情形2中P为黑色，一切安然无事，但P为红就不一样了，下边是P为红的各种情况，也是真正难懂的地方。

-   情形3: 如果父节点P和叔父节点U二者都是红色，(此时新插入节点N做为P的左子节点或右子节点都属于情形3,这里右图仅显示N做为P左子的情形)

则可以将它们两个重绘为黑色并重绘祖父节点G为红色(用来保持性质4)。现在新节点N有了一个黑色的父节点P。
因为通过父节点P或叔父节点U的任何路径都必定通过祖父节点G，在这些路径上的黑节点数目没有改变。但是，红色的祖父节点G的父节点也有可能是红色的，
这就违反了性质4。为了解决这个问题，在祖父节点G上递归地进行上述情形的整个过程（把G当成是新加入的节点进行各种情形的检查）。
比如，G为根节点，那就直接将G变为黑色（情形1）；如果G不是根节点，而它的父节点为黑色，那符合所有的性质，直接插入即可（情形2）；
如果G不是根节点，而它的父节点为红色，则递归上述过程（情形3）。

<figure>
    <img src="http://pjeixegpj.bkt.clouddn.com/2011120116425251.png"/> 
</figure>


-   情形4: 父节点P是红色而叔父节点U是黑色或缺少，新节点N是其父节点的左子节点，而父节点P又是其父节点G的左子节点。

在这种情形下，进行针对祖父节点G的一次右旋转; 在旋转产生的树中，以前的父节点P现在是新节点N和以前的祖父节点G的父节点。
知道以前的祖父节点G是黑色，否则父节点P就不可能是红色(如果P和G都是红色就违反了性质4，所以G必须是黑色)。
切换以前的父节点P和祖父节点G的颜色，结果的树满足性质4。性质5也仍然保持满足，因为通过这三个节点中任何一个的所有路径以前都通过祖父节点G，
现在它们都通过以前的父节点P。在各自的情形下，这都是三个节点中唯一的黑色节点。

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/66/Red-black%5Ftree%5Finsert%5Fcase%5F5.png"/> 
</figure>


&gt; 注: 插入实际上是原地算法，因为上述所有调用都使用了尾部递归。
</code></pre>
<ul>
<li>删除操作</li>
</ul>
<pre><code>　　如果需要删除的节点有两个儿子，那么问题可以被转化成删除另一个只有一个儿子的节点的问题。对于二叉查找树，在删除带有两个非叶子儿子的节点的时候，
找到要么在它的左子树中的最大元素、要么在它的右子树中的最小元素，并把它的值转移到要删除的节点中。接着删除从中复制出值的那个节点，
它必定有少于两个非叶子的儿子。因为只是复制了一个值，不违反任何性质，这就把问题简化为如何删除最多有一个儿子的节点的问题。它不关心这个节点是最初要删除的节点还是从中复制出值的那个节点。

　　只需要讨论删除只有一个儿子的节点(如果它两个儿子都为空，即均为叶子，任意将其中一个看作它的儿子)。
如果删除一个红色节点（此时该节点的儿子将都为叶子节点），它的父亲和儿子一定是黑色的。所以可以简单的用它的黑色儿子替换它，
并不会破坏性质3和性质4。通过被删除节点的所有路径只是少了一个红色节点，这样可以继续保证性质5。另一种简单情况是在被删除节点是黑色而它的儿子是红色的时候。
如果只是去除这个黑色节点，用它的红色儿子顶替上来的话，会破坏性质5，但是如果重绘它的儿子为黑色，则曾经通过它的所有路径将通过它的黑色儿子，这样可以继续保持性质5。

　　需要进一步讨论的是在要删除的节点和它的儿子二者都是黑色的时候，这是一种复杂的情况。首先把要删除的节点替换为它的儿子。
出于方便，称呼这个儿子为N(在新的位置上)，称呼它的兄弟(它父亲的另一个儿子)为S。在下面的示意图中，还是使用P称呼N的父亲，SL称呼S的左儿子，SR称呼S的右儿子。

　　如果N和它初始的父亲是黑色，则删除它的父亲导致通过N的路径都比不通过它的路径少了一个黑色节点。因为这违反了性质5，树需要被重新平衡。有几种情形需要考虑:

-   情形1: N是新的根。在这种情形下，就做完了。从所有路径去除了一个黑色节点，而新根是黑色的，所以性质都保持着。

&gt; 注意: 在情形2、5和6下，假定N是它父亲的左儿子。如果它是右儿子，则在这些情形下的左和右应当对调。

-   情形2: S是红色。在这种情形下在N的父亲上做左旋转，把红色兄弟转换成N的祖父，接着对调N的父亲和祖父的颜色。完成这两个操作后，尽管所有路径上黑色节点的数目没有改变，但现在N有了一个黑色的兄弟和一个红色的父亲（它的新兄弟是黑色因为它是红色S的一个儿子），所以可以接下去按情形4、情形5或情形6来处理。

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/39/Red-black%5Ftree%5Fdelete%5Fcase%5F2.png"/> 
</figure>


-   情形3: N的父亲、S和S的儿子都是黑色的。在这种情形下，简单的重绘S为红色。结果是通过S的所有路径，它们就是以前不通过N的那些路径，

都少了一个黑色节点。因为删除N的初始的父亲使通过N的所有路径少了一个黑色节点，这使事情都平衡了起来。
但是，通过P的所有路径现在比不通过P的路径少了一个黑色节点，所以仍然违反性质5。要修正这个问题，要从情形1开始，在P上做重新平衡处理。

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Red-black%5Ftree%5Fdelete%5Fcase%5F3.png"/> 
</figure>


-   情形4: S和S的儿子都是黑色，但是N的父亲是红色。在这种情形下，简单的交换N的兄弟和父亲的颜色。这不影响不通过N的路径的黑色节点的数目，

但是它在通过N的路径上对黑色节点数目增加了一，添补了在这些路径上删除的黑色节点。

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/d/d7/Red-black%5Ftree%5Fdelete%5Fcase%5F4.png"/> 
</figure>


-   情形5: S是黑色，S的左儿子是红色，S的右儿子是黑色，而N是它父亲的左儿子。在这种情形下在S上做右旋转，

这样S的左儿子成为S的父亲和N的新兄弟。接着交换S和它的新父亲的颜色。所有路径仍有同样数目的黑色节点，
但是现在N有了一个黑色兄弟，他的右儿子是红色的，所以进入了情形6。N和它的父亲都不受这个变换的影响。

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/30/Red-black%5Ftree%5Fdelete%5Fcase%5F5.png"/> 
</figure>


-   情形6: S是黑色，S的右儿子是红色，而N是它父亲的左儿子。在这种情形下在N的父亲上做左旋转，这样S成为N的父亲（P）和S的右儿子的父亲。

接着交换N的父亲和S的颜色，并使S的右儿子为黑色。子树在它的根上的仍是同样的颜色，所以性质3没有被违反。
但是，N现在增加了一个黑色祖先: 要么N的父亲变成黑色，要么它是黑色而S被增加为一个黑色祖父。所以，通过N的路径都增加了一个黑色节点。

　　此时，如果一个路径不通过N，则有两种可能性:

-   它通过N的新兄弟。那么它以前和现在都必定通过S和N的父亲，而它们只是交换了颜色。所以路径保持了同样数目的黑色节点。
-   它通过N的新叔父，S的右儿子。那么它以前通过S、S的父亲和S的右儿子，但是现在只通过S，它被假定为它以前的父亲的颜色，和S的右儿子，它被从红色改变为黑色。合成效果是这个路径通过了同样数目的黑色节点。

　　在任何情况下，在这些路径上的黑色节点数目都没有改变。所以恢复了性质4。在示意图中的白色节点可以是红色或黑色，但是在变换前后都必须指定相同的颜色。

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/31/Red-black%5Ftree%5Fdelete%5Fcase%5F6.png"/> 
</figure>

</code></pre>
<h3 id="b树">B树</h3>
<p>B树也是一种用于查找的平衡树，但是它不是二叉树。</p>
<h4 id="定义">定义</h4>
<pre><code>B树（B-tree）是一种树状数据结构，能够用来存储排序后的数据。这种数据结构能够让查找数据、循序存取、插入数据及删除的动作，
</code></pre>
<p>都在对数时间内完成。B树，概括来说是一个一般化的二叉查找树，可以拥有多于2个子节点。与自平衡二叉查找树不同，B-树为系统最优化大块数据的读和写操作。
B-tree算法减少定位记录时所经历的中间过程，从而加快存取速度。这种数据结构常被应用在数据库和文件系统的实作上。</p>
<p>　　在B树中查找给定关键字的方法是，首先把根结点取来，在根结点所包含的关键字K1,…,Kn查找给定的关键字（可用顺序查找或二分查找法），
若找到等于给定值的关键字，则查找成功；否则，一定可以确定要查找的关键字在Ki与Ki+1之间，Pi为指向子树根节点的指针，此时取指针Pi所指的结点继续查找，直至找到，或指针Pi为空时查找失败。</p>
<p>　　B树作为一种多路搜索树（并不是二叉的）：</p>
<ol>
<li>
<p>定义任意非叶子结点最多只有M个儿子；且M&gt;2</p>
</li>
<li>
<p>根结点的儿子数为[2, M]</p>
</li>
<li>
<p>除根结点以外的非叶子结点的儿子数为[M/2, M]</p>
</li>
<li>
<p>每个结点存放至少M/2-1（取上整）和至多M-1个关键字；（至少2个关键字）</p>
</li>
<li>
<p>非叶子结点的关键字个数=指向儿子的指针个数-1</p>
</li>
<li>
<p>非叶子结点的关键字：K[1], K[2], …, K[M-1]；且K[i] &lt; K[i+1]</p>
</li>
<li>
<p>非叶子结点的指针：P[1], P[2], …, P[M]；其中P[1]指向关键字小于K[1]的子树，P[M]指向关键字大于K[M-1]的子树，其它P[i]指向关键字属于(K[i-1], K[i])的子树</p>
</li>
<li>
<p>所有叶子结点位于同一层</p>
<p>如下图为一个M=3的B树示例：</p>
</li>
</ol>
<figure>
    <img src="http://202.38.196.91/cache/6/04/p.blog.csdn.net/7f431b2da8b6bec3e0e52f3ea8cc686d/4.JPG"/> 
</figure>

<p>B树创建的示意图：
<img src="http://pjeixegpj.bkt.clouddn.com/7cc829d3gy1fh5p12mz57g20qm06d4qq.gif" alt=""></p>
<h3 id="b-树">B+树</h3>
<p>B+树是B树的变体，也是一种多路搜索树：</p>
<ol>
<li>其定义基本与B-树基本相同</li>
<li>非叶子结点的子树指针与关键字个数相同</li>
<li>非叶子结点的子树指针P[i]，指向关键字值属于[K[i], K[i+1])的子树（B-树是开区间）</li>
<li>为所有叶子结点增加一个链指针</li>
<li>所有关键字都在叶子结点出现</li>
</ol>
<p>　　下图为M=3的B+树的示意图：</p>
<figure>
    <img src="https://ss2.bdstatic.com/70cFvnSh%5FQ1YnxGkpoWK1HF6hhy/it/u=3010166739,2928306663&amp;fm=26&amp;gp=0.jpg"/> 
</figure>

<p>B+树的搜索与B树也基本相同，区别是B+树只有达到叶子结点才命中（B树可以在非叶子结点命中），其性能也等价于在关键字全集做一次二分查找；</p>
<p>B+的性质：</p>
<ol>
<li>所有关键字都出现在叶子结点的链表中（稠密索引），且链表中的关键字恰好是有序的；</li>
<li>不可能在非叶子结点命中；</li>
<li>非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储（关键字）数据的数据层；</li>
<li>更适合文件索引系统。</li>
</ol>
<p>　　下面为一个B+树创建的示意图：</p>
<figure>
    <img src="http://pjeixegpj.bkt.clouddn.com/7cc829d3gy1fh5p2ef94jg20rz05i7wi.gif"/> 
</figure>

<h3 id="b-树">B*树</h3>
<p>B*树是B+树的变体，在B+树的非根和非叶子结点再增加指向兄弟的指针，将结点的最低利用率从1/2提高到2/3。</p>
<p>B*树如下图所示：</p>
<figure>
    <img src="https://ss2.bdstatic.com/70cFvnSh%5FQ1YnxGkpoWK1HF6hhy/it/u=3010166739,2928306663&amp;fm=26&amp;gp=0.jpg"/> 
</figure>

<p>B*树定义了非叶子结点关键字个数至少为(2/3)*M，即块的最低使用率为2/3（代替B+树的1/2）；</p>
<p>　　B+树的分裂：当一个结点满时，分配一个新的结点，并将原结点中1/2的数据复制到新结点，最后在父结点中增加新结点的指针；
B+树的分裂只影响原结点和父结点，而不会影响兄弟结点，所以它不需要指向兄弟的指针；</p>
<p>　　B*树的分裂：当一个结点满时，如果它的下一个兄弟结点未满，那么将一部分数据移到兄弟结点中，再在原结点插入关键字，
最后修改父结点中兄弟结点的关键字（因为兄弟结点的关键字范围改变了）；如果兄弟也满了，则在原结点与兄弟结点之间增加新结点，
并各复制1/3的数据到新结点，最后在父结点增加新结点的指针；</p>
<p>　　所以，B*树分配新结点的概率比B+树要低，空间使用率更高。</p>
<h3 id="字典树-trie树">字典树/Trie树</h3>
<p>　　Tire树称为字典树，又称单词查找树，Trie树，是一种树形结构，是一种哈希树的变种。典型应用是用于统计，排序和保存大量的字符串（但不仅限于字符串），
所以经常被搜索引擎系统用于文本词频统计。它的优点是：利用字符串的公共前缀来减少查询时间，最大限度地减少无谓的字符串比较，查询效率比哈希树高。　</p>
<p>　　Tire树的三个基本性质：
　　1) 根节点不包含字符，除根节点外每一个节点都只包含一个字符；
　　2) 从根节点到某一节点，路径上经过的字符连接起来，为该节点对应的字符串；
　　3) 每个节点的所有子节点包含的字符都不相同。</p>
<h4 id="示例">示例</h4>
<figure>
    <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999%5F10000&amp;sec=1546682706506&amp;di=009aae012c68bac9dfcf28f771827e76&amp;imgtype=0&amp;src=http%3A%2F%2Fupload-images.jianshu.io%2Fupload%5Fimages%2F10170978-d938edfda04345f6.png"/> 
</figure>

<h3 id="基数树-radix树">基数树/radix树</h3>
<p>基数树是一种压缩的字典树。只是节点存储的是比特位，查找时，将走过的路径组合起来就是查找的值。</p>
<h4 id="示例">示例</h4>
<figure>
    <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999%5F10000&amp;sec=1546682495908&amp;di=47a7083c65946cd4e9f8bae343374bba&amp;imgtype=jpg&amp;src=http%3A%2F%2Fimg0.imgtn.bdimg.com%2Fit%2Fu%3D1899145090%2C4142390461%26fm%3D214%26gp%3D0.jpg"/> 
</figure>

<h2 id="树的应用">树的应用</h2>
<ul>
<li>二叉树：二叉树本身应用不多，不过它的衍生树的应用很多，具体如下</li>
<li>AVL树：windows对进程地址空间的管理</li>
<li>红黑树： C++ STL中的map和set、Linux进程调度器 Completely Fair Scheduler、Linux网络I/O中epoll的事件驱动模型、nginx中的 timer、Java的TreeMap</li>
<li>B树： 数据库索引</li>
<li>B+树： Mysql InnoDB中的B+Tree索引、文件系统</li>
<li>Tire树： 前缀匹配、串的快速检索、串排序</li>
<li>radix树: Linux 中ID与对应结构体的指针的映射(IDR机制)、路由查找、信息检索的文档索引反转</li>
</ul>
<h2 id="参考">参考</h2>
<p><a href="http://www.cnblogs.com/maybe2030/p/4732377.html">http://www.cnblogs.com/maybe2030/p/4732377.html</a></p>
<p><a href="https://blog.csdn.net/mtt%5Fsky/article/details/51442452">https://blog.csdn.net/mtt%5Fsky/article/details/51442452</a></p>
<p><a href="https://en.wikipedia.org/wiki/Radix%5Ftree">https://en.wikipedia.org/wiki/Radix%5Ftree</a></p>

    
	</div>
  <footer class="article-footer clearfix">
  

<div class="article-tags">
  <span></span>
  
  <a href="/tags/tree">tree</a>
  
  <a href="/tags/data_struct">data_struct</a>
  
  <a href="/tags/conclusion">conclusion</a>
  
</div>





<div class="article-categories">
  <span></span>
  
  <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">数据结构</a>
  
</div>



  <div class="article-share" id="share">
    <div data-url="/post/data_struct_trees_conclusion/" data-title="树结构及其应用场景总结" data-tsina="123" class="share clearfix">
    </div>
  </div>
</footer>

	</article>
  



</div>

    <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>
<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">
  

<div class="categorieslist">
  <p class="asidetitle">分类</p>
  <ul>
    
    <li><a href="/categories/%e4%bd%bf%e7%94%a8%e6%8a%80%e5%b7%a7" title="使用技巧">使用技巧<sup>1</sup></a></li>
    
    <li><a href="/categories/%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86" title="内存管理">内存管理<sup>1</sup></a></li>
    
    <li><a href="/categories/%e5%86%85%e6%a0%b8%e5%ae%9e%e9%aa%8c" title="内核实验">内核实验<sup>3</sup></a></li>
    
    <li><a href="/categories/%e5%86%85%e6%a0%b8%e8%b0%83%e8%af%95" title="内核调试">内核调试<sup>1</sup></a></li>
    
    <li><a href="/categories/%e5%91%bd%e4%bb%a4%e8%a1%8c%e8%89%ba%e6%9c%af" title="命令行艺术">命令行艺术<sup>3</sup></a></li>
    
    <li><a href="/categories/%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0" title="学习笔记">学习笔记<sup>15</sup></a></li>
    
    <li><a href="/categories/%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f" title="操作系统">操作系统<sup>1</sup></a></li>
    
    <li><a href="/categories/%e6%95%88%e7%8e%87%e5%b7%a5%e5%85%b7" title="效率工具">效率工具<sup>5</sup></a></li>
    
    <li><a href="/categories/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" title="数据结构">数据结构<sup>1</sup></a></li>
    
    <li><a href="/categories/%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" title="最佳实践">最佳实践<sup>1</sup></a></li>
    
    <li><a href="/categories/%e6%9f%a5%e6%bc%8f%e8%a1%a5%e7%bc%ba" title="查漏补缺">查漏补缺<sup>1</sup></a></li>
    
    <li><a href="/categories/%e6%b8%a9%e6%95%85%e7%9f%a5%e6%96%b0" title="温故知新">温故知新<sup>1</sup></a></li>
    
    <li><a href="/categories/%e7%bd%91%e7%bb%9c%e7%bc%96%e7%a8%8b" title="网络编程">网络编程<sup>1</sup></a></li>
    
    <li><a href="/categories/%e8%99%9a%e6%8b%9f%e5%8c%96" title="虚拟化">虚拟化<sup>5</sup></a></li>
    
    <li><a href="/categories/%e9%a1%b9%e7%9b%ae%e5%ae%9e%e6%88%98" title="项目实战">项目实战<sup>5</sup></a></li>
    
  </ul>
</div>



  

<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
      
			<li><a href="/tags/archlinux" title="archlinux">archlinux<sup>1</sup></a></li>
      
			<li><a href="/tags/arm64" title="arm64">arm64<sup>1</sup></a></li>
      
			<li><a href="/tags/bochs" title="bochs">bochs<sup>2</sup></a></li>
      
			<li><a href="/tags/bootsect" title="bootsect">bootsect<sup>1</sup></a></li>
      
			<li><a href="/tags/busybox" title="busybox">busybox<sup>1</sup></a></li>
      
			<li><a href="/tags/c&#43;&#43;" title="c&#43;&#43;">c&#43;&#43;<sup>10</sup></a></li>
      
			<li><a href="/tags/ccls" title="ccls">ccls<sup>1</sup></a></li>
      
			<li><a href="/tags/cifs" title="cifs">cifs<sup>1</sup></a></li>
      
			<li><a href="/tags/command" title="command">command<sup>3</sup></a></li>
      
			<li><a href="/tags/conclusion" title="conclusion">conclusion<sup>1</sup></a></li>
      
			<li><a href="/tags/data_struct" title="data_struct">data_struct<sup>1</sup></a></li>
      
			<li><a href="/tags/earycon" title="earycon">earycon<sup>1</sup></a></li>
      
			<li><a href="/tags/emacs" title="emacs">emacs<sup>2</sup></a></li>
      
			<li><a href="/tags/funny" title="funny">funny<sup>1</sup></a></li>
      
			<li><a href="/tags/gentoo" title="gentoo">gentoo<sup>1</sup></a></li>
      
			<li><a href="/tags/hyper-v" title="hyper-v">hyper-v<sup>2</sup></a></li>
      
			<li><a href="/tags/jemalloc" title="jemalloc">jemalloc<sup>1</sup></a></li>
      
			<li><a href="/tags/kernel" title="kernel">kernel<sup>8</sup></a></li>
      
			<li><a href="/tags/kvm" title="kvm">kvm<sup>4</sup></a></li>
      
			<li><a href="/tags/kvmtool" title="kvmtool">kvmtool<sup>2</sup></a></li>
      
			<li><a href="/tags/linux" title="linux">linux<sup>18</sup></a></li>
      
			<li><a href="/tags/linux0.11" title="linux0.11">linux0.11<sup>1</sup></a></li>
      
			<li><a href="/tags/linux%e5%86%85%e6%a0%b8" title="linux内核">linux内核<sup>1</sup></a></li>
      
			<li><a href="/tags/lkvm" title="lkvm">lkvm<sup>1</sup></a></li>
      
			<li><a href="/tags/make" title="make">make<sup>1</sup></a></li>
      
			<li><a href="/tags/makefile" title="makefile">makefile<sup>2</sup></a></li>
      
			<li><a href="/tags/mbsync" title="mbsync">mbsync<sup>1</sup></a></li>
      
			<li><a href="/tags/msys2" title="msys2">msys2<sup>1</sup></a></li>
      
			<li><a href="/tags/mu4e" title="mu4e">mu4e<sup>1</sup></a></li>
      
			<li><a href="/tags/nvim" title="nvim">nvim<sup>1</sup></a></li>
      
			<li><a href="/tags/pmalloc2" title="pmalloc2">pmalloc2<sup>1</sup></a></li>
      
			<li><a href="/tags/project" title="project">project<sup>1</sup></a></li>
      
			<li><a href="/tags/rootfs" title="rootfs">rootfs<sup>1</sup></a></li>
      
			<li><a href="/tags/setup" title="setup">setup<sup>1</sup></a></li>
      
			<li><a href="/tags/share" title="share">share<sup>1</sup></a></li>
      
			<li><a href="/tags/shell" title="shell">shell<sup>4</sup></a></li>
      
			<li><a href="/tags/snippets" title="snippets">snippets<sup>1</sup></a></li>
      
			<li><a href="/tags/ssh" title="ssh">ssh<sup>1</sup></a></li>
      
			<li><a href="/tags/syscall" title="syscall">syscall<sup>1</sup></a></li>
      
			<li><a href="/tags/tcmalloc" title="tcmalloc">tcmalloc<sup>1</sup></a></li>
      
			<li><a href="/tags/terminal" title="terminal">terminal<sup>5</sup></a></li>
      
			<li><a href="/tags/text_editor" title="text_editor">text_editor<sup>1</sup></a></li>
      
			<li><a href="/tags/textor" title="textor">textor<sup>3</sup></a></li>
      
			<li><a href="/tags/thread_info" title="thread_info">thread_info<sup>1</sup></a></li>
      
			<li><a href="/tags/tmux" title="tmux">tmux<sup>1</sup></a></li>
      
			<li><a href="/tags/tree" title="tree">tree<sup>1</sup></a></li>
      
			<li><a href="/tags/tun/tap" title="tun/tap">tun/tap<sup>1</sup></a></li>
      
			<li><a href="/tags/variable" title="variable">variable<sup>1</sup></a></li>
      
			<li><a href="/tags/vfs" title="vfs">vfs<sup>1</sup></a></li>
      
			<li><a href="/tags/vim" title="vim">vim<sup>1</sup></a></li>
      
			<li><a href="/tags/vscode" title="vscode">vscode<sup>2</sup></a></li>
      
			<li><a href="/tags/windows" title="windows">windows<sup>1</sup></a></li>
      
			<li><a href="/tags/%e4%b8%ad%e6%96%ad" title="中断">中断<sup>1</sup></a></li>
      
			<li><a href="/tags/%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86" title="内存管理">内存管理<sup>1</sup></a></li>
      
			<li><a href="/tags/%e5%86%85%e6%a0%b8%e5%90%8c%e6%ad%a5" title="内核同步">内核同步<sup>1</sup></a></li>
      
			<li><a href="/tags/%e5%86%85%e6%a0%b8%e6%a0%88" title="内核栈">内核栈<sup>1</sup></a></li>
      
			<li><a href="/tags/%e5%a5%97%e6%8e%a5%e5%ad%97" title="套接字">套接字<sup>1</sup></a></li>
      
			<li><a href="/tags/%e5%af%b9%e8%b1%a1%e6%a8%a1%e5%9e%8b" title="对象模型">对象模型<sup>3</sup></a></li>
      
			<li><a href="/tags/%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0" title="成员函数">成员函数<sup>1</sup></a></li>
      
			<li><a href="/tags/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" title="数据结构">数据结构<sup>1</sup></a></li>
      
			<li><a href="/tags/%e6%96%87%e4%bb%b6%e6%8f%8f%e8%bf%b0%e7%ac%a6" title="文件描述符">文件描述符<sup>1</sup></a></li>
      
			<li><a href="/tags/%e6%97%b6%e9%97%b4%e7%ae%a1%e7%90%86" title="时间管理">时间管理<sup>1</sup></a></li>
      
			<li><a href="/tags/%e7%b3%bb%e7%bb%9f%e8%b0%83%e7%94%a8" title="系统调用">系统调用<sup>1</sup></a></li>
      
			<li><a href="/tags/%e7%bb%a7%e6%89%bf" title="继承">继承<sup>1</sup></a></li>
      
			<li><a href="/tags/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80" title="编程语言">编程语言<sup>3</sup></a></li>
      
			<li><a href="/tags/%e8%bf%9b%e7%a8%8b%e7%ae%a1%e7%90%86" title="进程管理">进程管理<sup>1</sup></a></li>
      
			<li><a href="/tags/%e8%bf%9b%e7%a8%8b%e8%b0%83%e5%ba%a6" title="进程调度">进程调度<sup>1</sup></a></li>
      
			<li><a href="/tags/%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1" title="面向对象">面向对象<sup>2</sup></a></li>
      
		</ul>
</div>



  
  <div class="archiveslist">
    <p class="asidetitle">归档</p>
    <ul class="archive-list">
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2020-11">2020年11月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2020-10">2020年10月</a><span class="archive-list-count">3</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2020-09">2020年09月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2020-06">2020年06月</a><span class="archive-list-count">7</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2020-05">2020年05月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2020-04">2020年04月</a><span class="archive-list-count">5</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-09">2019年09月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-07">2019年07月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-06">2019年06月</a><span class="archive-list-count">7</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-05">2019年05月</a><span class="archive-list-count">5</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-04">2019年04月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-03">2019年03月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-02">2019年02月</a><span class="archive-list-count">4</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2019-01">2019年01月</a><span class="archive-list-count">4</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="/post/#2018-12">2018年12月</a><span class="archive-list-count">1</span>
      </li>
      
    </ul>

  </div>


  

<div class="tagcloudlist">
  <p class="asidetitle">标签云</p>
  <div class="tagcloudlist clearfix">
    
    <a href="/tags/archlinux" style="font-size: 12px;">archlinux</a>
    
    <a href="/tags/arm64" style="font-size: 12px;">arm64</a>
    
    <a href="/tags/bochs" style="font-size: 12px;">bochs</a>
    
    <a href="/tags/bootsect" style="font-size: 12px;">bootsect</a>
    
    <a href="/tags/busybox" style="font-size: 12px;">busybox</a>
    
    <a href="/tags/c&#43;&#43;" style="font-size: 12px;">c&#43;&#43;</a>
    
    <a href="/tags/ccls" style="font-size: 12px;">ccls</a>
    
    <a href="/tags/cifs" style="font-size: 12px;">cifs</a>
    
    <a href="/tags/command" style="font-size: 12px;">command</a>
    
    <a href="/tags/conclusion" style="font-size: 12px;">conclusion</a>
    
    <a href="/tags/data_struct" style="font-size: 12px;">data_struct</a>
    
    <a href="/tags/earycon" style="font-size: 12px;">earycon</a>
    
    <a href="/tags/emacs" style="font-size: 12px;">emacs</a>
    
    <a href="/tags/funny" style="font-size: 12px;">funny</a>
    
    <a href="/tags/gentoo" style="font-size: 12px;">gentoo</a>
    
    <a href="/tags/hyper-v" style="font-size: 12px;">hyper-v</a>
    
    <a href="/tags/jemalloc" style="font-size: 12px;">jemalloc</a>
    
    <a href="/tags/kernel" style="font-size: 12px;">kernel</a>
    
    <a href="/tags/kvm" style="font-size: 12px;">kvm</a>
    
    <a href="/tags/kvmtool" style="font-size: 12px;">kvmtool</a>
    
    <a href="/tags/linux" style="font-size: 12px;">linux</a>
    
    <a href="/tags/linux0.11" style="font-size: 12px;">linux0.11</a>
    
    <a href="/tags/linux%e5%86%85%e6%a0%b8" style="font-size: 12px;">linux内核</a>
    
    <a href="/tags/lkvm" style="font-size: 12px;">lkvm</a>
    
    <a href="/tags/make" style="font-size: 12px;">make</a>
    
    <a href="/tags/makefile" style="font-size: 12px;">makefile</a>
    
    <a href="/tags/mbsync" style="font-size: 12px;">mbsync</a>
    
    <a href="/tags/msys2" style="font-size: 12px;">msys2</a>
    
    <a href="/tags/mu4e" style="font-size: 12px;">mu4e</a>
    
    <a href="/tags/nvim" style="font-size: 12px;">nvim</a>
    
    <a href="/tags/pmalloc2" style="font-size: 12px;">pmalloc2</a>
    
    <a href="/tags/project" style="font-size: 12px;">project</a>
    
    <a href="/tags/rootfs" style="font-size: 12px;">rootfs</a>
    
    <a href="/tags/setup" style="font-size: 12px;">setup</a>
    
    <a href="/tags/share" style="font-size: 12px;">share</a>
    
    <a href="/tags/shell" style="font-size: 12px;">shell</a>
    
    <a href="/tags/snippets" style="font-size: 12px;">snippets</a>
    
    <a href="/tags/ssh" style="font-size: 12px;">ssh</a>
    
    <a href="/tags/syscall" style="font-size: 12px;">syscall</a>
    
    <a href="/tags/tcmalloc" style="font-size: 12px;">tcmalloc</a>
    
    <a href="/tags/terminal" style="font-size: 12px;">terminal</a>
    
    <a href="/tags/text_editor" style="font-size: 12px;">text_editor</a>
    
    <a href="/tags/textor" style="font-size: 12px;">textor</a>
    
    <a href="/tags/thread_info" style="font-size: 12px;">thread_info</a>
    
    <a href="/tags/tmux" style="font-size: 12px;">tmux</a>
    
    <a href="/tags/tree" style="font-size: 12px;">tree</a>
    
    <a href="/tags/tun/tap" style="font-size: 12px;">tun/tap</a>
    
    <a href="/tags/variable" style="font-size: 12px;">variable</a>
    
    <a href="/tags/vfs" style="font-size: 12px;">vfs</a>
    
    <a href="/tags/vim" style="font-size: 12px;">vim</a>
    
    <a href="/tags/vscode" style="font-size: 12px;">vscode</a>
    
    <a href="/tags/windows" style="font-size: 12px;">windows</a>
    
    <a href="/tags/%e4%b8%ad%e6%96%ad" style="font-size: 12px;">中断</a>
    
    <a href="/tags/%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86" style="font-size: 12px;">内存管理</a>
    
    <a href="/tags/%e5%86%85%e6%a0%b8%e5%90%8c%e6%ad%a5" style="font-size: 12px;">内核同步</a>
    
    <a href="/tags/%e5%86%85%e6%a0%b8%e6%a0%88" style="font-size: 12px;">内核栈</a>
    
    <a href="/tags/%e5%a5%97%e6%8e%a5%e5%ad%97" style="font-size: 12px;">套接字</a>
    
    <a href="/tags/%e5%af%b9%e8%b1%a1%e6%a8%a1%e5%9e%8b" style="font-size: 12px;">对象模型</a>
    
    <a href="/tags/%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0" style="font-size: 12px;">成员函数</a>
    
    <a href="/tags/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" style="font-size: 12px;">数据结构</a>
    
    <a href="/tags/%e6%96%87%e4%bb%b6%e6%8f%8f%e8%bf%b0%e7%ac%a6" style="font-size: 12px;">文件描述符</a>
    
    <a href="/tags/%e6%97%b6%e9%97%b4%e7%ae%a1%e7%90%86" style="font-size: 12px;">时间管理</a>
    
    <a href="/tags/%e7%b3%bb%e7%bb%9f%e8%b0%83%e7%94%a8" style="font-size: 12px;">系统调用</a>
    
    <a href="/tags/%e7%bb%a7%e6%89%bf" style="font-size: 12px;">继承</a>
    
    <a href="/tags/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80" style="font-size: 12px;">编程语言</a>
    
    <a href="/tags/%e8%bf%9b%e7%a8%8b%e7%ae%a1%e7%90%86" style="font-size: 12px;">进程管理</a>
    
    <a href="/tags/%e8%bf%9b%e7%a8%8b%e8%b0%83%e5%ba%a6" style="font-size: 12px;">进程调度</a>
    
    <a href="/tags/%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1" style="font-size: 12px;">面向对象</a>
    
  </div>
</div>



  

</aside>
</div>

  </div>
  <footer><div id="footer" >
  
  <div class="line">
    <span></span>
    <div style='background:no-repeat url("/img/author.jpg") left top;-webkit-background-size:6.875em 6.875em;-moz-background-size:6.875em 6.875em;background-size:6.875em 6.875em;' class="author" ></div>
  </div>
  
  
  <section class="info">
    <p>码农一枚 <br/> 混口饭吃</p>
  </section>
  
  <div class="social-font clearfix">
    
    
    
    <a href="https://github.com/Jerling" target="_blank" title="github"></a>
    
    
    
  </div>
  <p class="copyright">Powered by <a href="http://gohugo.io" target="_blank" title="hugo">hugo</a> and Theme by <a href="https://github.com/coderzh/hugo-pacman-theme" target="_blank" title="hugo-pacman-theme">hugo-pacman-theme</a> © 2020
    
    <a href="/" title="北极狼徒">北极狼徒</a>
    
  </p>
</div>
</footer>
  <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
done = false;
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  $('form.search').on('submit', function (event) {
    if (false === done) {
      event.preventDefault();
      var orgVal = $(this).find('#search').val();
      $(this).find('#search').val('site:\/ ' + orgVal);
      done = true;
      $(this).submit();
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://b.bshare.cn/barCode?site=weixin&url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});
</script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>




</body>
</html>
